const category_details = [
    {
        category_name: 'Made for The Aryan',
        category_item_cards: 5,
        category_type: 'inline',
        category_item_cards_details: [
            {
                category_item_card_image: '',
                category_item_card_name: 'Daily Mix 1',
                category_item_card_creators: 'Pritam, Arijit Singh, Altamash Faridi and more',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'Daily Mix 2',
                category_item_card_creators: 'Kishore Kumar, Lata Mangeshkar, Kalyanji-Anandji and more',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'Daily Mix 3',
                category_item_card_creators: 'Meet Bros., Akhil Sachdeva, Badshah and more',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'Daily Mix 4',
                category_item_card_creators: 'Anirudh Ravichander, Sam C.S., Nakash Aziz and more',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'Daily Mix 5',
                category_item_card_creators: 'Aishwarya Majmudar, Sanam, Vikrant Bhartiya and more',
                is_playable: true,
            },
        ],
    },

    {
        category_name: 'Your top mixes',
        category_item_cards: 5,
        category_type: 'inline',
        category_item_cards_details: [
            {
                category_item_card_image: '',
                category_item_card_name: 'Latin Mix',
                category_item_card_creators: 'Sevdaliza and more',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: "2010s Mix",
                category_item_card_creators: 'Arijit Singh, Vishal Mishra, Ami Mishra and more',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'Pop Mix',
                category_item_card_creators: 'Astrid S, Billie Ellish, Bella Poarch and more',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: '2000 Mix',
                category_item_card_creators: 'Sonu Nigam, Sandesh Shandilya, Atif Aslam and more',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'Moody Mix',
                category_item_card_creators: 'Shaarib Toshi, Tulsi Kumar, Madan Mohan and more',
                is_playable: true,
            },
        ],
    },

    {
        category_name: 'Recently played',
        category_item_cards: 5,
        category_type: 'outline',
        category_item_cards_details: [
            {
                category_item_card_image: '',
                category_item_card_name: 'Best',
                category_item_card_creators: 'By The Aryan',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'Old',
                category_item_card_creators: 'By The Aryan',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'Mohabbatein',
                category_item_card_creators: 'Jatin-Lalit',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'To put',
                category_item_card_creators: 'By The Aryan',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'G. O. A. T',
                category_item_card_creators: 'By The Aryan',
                is_playable: true,
            },
        ],
    },

    {
        category_name: 'Recommended for today',
        category_item_cards: 5,
        category_type: 'outline',
        category_item_cards_details: [
            {
                category_item_card_image: '',
                category_item_card_name: 'Genius - Original Motion Picture Soundtrack',
                category_item_card_creators: 'Himesh Reshammiya',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'O Saathi (From "Baaghi 2")',
                category_item_card_creators: 'Atif Aslam, Arko',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'Ek Dil Ek Jaan (From "Padmaavat")',
                category_item_card_creators: 'Shivam Pathak, Sanjay Leela Bhansali',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'Rehna Hai Terre Dil Mein',
                category_item_card_creators: 'Anand Raj Anand',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'Mere Naam Tu (From "Zero")',
                category_item_card_creators: 'Abhay Jodhpurkar, Ajay-Atul',
                is_playable: true,
            },
        ],
    },

    {
        category_name: 'Based on your recent listening',
        category_item_cards: 5,
        category_type: 'inline',
        category_item_cards_details: [
            {
                category_item_card_image: '',
                category_item_card_name: '',
                category_item_card_creators: "Get ready because you're the main character. Slay, queen!",
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: '',
                category_item_card_creators: 'Soulful tunes for the heart that has loved and lost. Cover - Tamasha',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: '',
                category_item_card_creators: 'Relive the biggest tracks of the decade. Cover - Yeh Jawani Hai Deewani',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: '',
                category_item_card_creators: 'Kickstart your sundowner party with these hits.',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: '',
                category_item_card_creators: "Sit back, and chill with Bollywood's easygoing hits",
                is_playable: true,
            },
        ],
    },

    {
        category_name: 'Best of artists',
        category_item_cards: 5,
        category_type: 'inline',
        category_item_cards_details: [
            {
                category_item_card_image: '',
                category_item_card_name: '',
                category_item_card_creators: 'This is Kishore Kumar. The essential tracks, all in one playlist.',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: '',
                category_item_card_creators: 'This is Rahat Fateh Ali Khan. The essential tracks, all in one playlist.',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: '',
                category_item_card_creators: "Bollywood crooner's essential songs",
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: '',
                category_item_card_creators: 'This is Udit Narayan. The essential tracks, all in one playlist.',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: '',
                category_item_card_creators: 'This is Atif Aslam. The essential tracks, all in one playlist.',
                is_playable: true,
            },
        ],
    },

    {
        category_name: "India's Best",
        category_item_cards: 5,
        category_type: 'inline',
        category_item_cards_details: [
            {
                category_item_card_image: '',
                category_item_card_name: '',
                category_item_card_creators: 'Hottest tracks from your favourite I-Pop Icons. Cover- Vishal Mishra',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: '',
                category_item_card_creators: 'Bollywood Central, jab baje toh seedha dil ke centre mein lage ü´∂üèº Cover - Teri Baaton Mein Aisa Uljha Jiya',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: '',
                category_item_card_creators: 'Ultimate 101 Punjabi Hits with Navaan Sandhu',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: '',
                category_item_card_creators: 'The finest set of Telugu music from the past 10 years. Cover : Hi Nanna',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: '',
                category_item_card_creators: "India's Rap Scene. Cover- Hanumankind",
                is_playable: true,
            },
        ],
    },

    {
        category_name: 'Episodes for you',
        category_item_cards: 5,
        category_type: 'outline',
        category_item_cards_details: [
            {
                category_item_card_image: '',
                category_item_card_name: 'People x Nainowale ne',
                category_item_card_creators: 'Oct 2023 ‚Ä¢ 3 min',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'SHRIMAD BHAGWADGITA ADHYAY 01',
                category_item_card_creators: 'July 2021 ‚Ä¢ 12 min',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: '‡§Æ‡§π‡§æ‡§¶‡•á‡§µ ‡§ï‡§æ ‡§™‡•ç‡§∞‡§§‡•Ä‡§ï',
                category_item_card_creators: 'July 2021 ‚Ä¢ 16 min',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'Oh shinchan!',
                category_item_card_creators: 'Dec 2022 ‚Ä¢ 2 min',
                is_playable: true,
            },
            {
                category_item_card_image: '',
                category_item_card_name: '‡§ú‡§ü‡§æ‡§Ø‡•Å ‡§ï‡•Ä ‡§Ö‡§Ç‡§§‡§ø‡§Æ ‡§≤‡§°‡§º‡§æ‡§à',
                category_item_card_creators: 'Aug 30 ‚Ä¢ 7 min',
                is_playable: true,
            },
        ],
    },

    {
        category_name: 'For Shri Krishna Devotees',
        category_item_cards: 4,
        category_type: 'outline',
        category_item_cards_details: [
            {
                category_item_card_image: '',
                category_item_card_name: 'Krishna - The Supreme Soul',
                category_item_card_creators: 'Bhavin',
                is_playable: false,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'Shri Krishna Leela (Hindi Podcast)',
                category_item_card_creators: 'Kishore Kumar, Lata Mangeshkar, Kalyanji-Anandji and more',
                is_playable: false,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'Shri Krishna',
                category_item_card_creators: 'Fever FM - HT smartcast',
                is_playable: false,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'Shri Krishna - Part 1',
                category_item_card_creators: 'Jun 2021 ‚Ä¢ 16 min',
                is_playable: true,
            },
        ],
    },

    {
        category_name: 'Shows to try',
        category_item_cards: 5,
        category_type: 'outline',
        category_item_cards_details: [
            {
                category_item_card_image: '',
                category_item_card_name: 'SHRIMAD BHAGWADGITA',
                category_item_card_creators: 'Amit Wadhwa',
                is_playable: false,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'Shiva - Narrated by Jackie Shroff',
                category_item_card_creators: 'Fever FM - HT Smartcast',
                is_playable: false,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'Ramayana',
                category_item_card_creators: 'Fever Stories',
                is_playable: false,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'Mahadev ki Katha',
                category_item_card_creators: 'aawaz.com',
                is_playable: false,
            },
            {
                category_item_card_image: '',
                category_item_card_name: 'Sandeep Maheshwari Complete',
                category_item_card_creators: 'Audible',
                is_playable: false,
            },
        ],
    },
];

export default category_details;

const CLIENT_ID = 'fa99f1012dea4fa292a3b9a593e5fd19';
const CLIENT_SECRET = '909967f80ec44c33b1738a2e09edbe5d';
const REFRESH_TOKEN = "AQDJClGX6vWk1SX2hRWG4zM9wzYu275O2v1QWZU8noz9ZdU6HaBjogRdbkrOXZjK09d1mj8bSzCy9MxSwRjsJB26sQpYLjyXmUonHXrcmj1RA9xmadMnN3zx2hido4qVUrA";

let cachedPlaylists = null;

// Utility function to introduce a delay
const delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));

// Function to get an access token using the refresh token
const getAccessToken = async () => {
    const response = await fetch('https://accounts.spotify.com/api/token', {
        method: 'POST',
        headers: {
            'Authorization': 'Basic ' + btoa(CLIENT_ID + ':' + CLIENT_SECRET),
            'Content-Type': 'application/x-www-form-urlencoded',
        },
        body: 'grant_type=refresh_token&refresh_token=' + REFRESH_TOKEN,
    });
    const data = await response.json();
    return data.access_token;
};

// Function to fetch playlists or other data from Spotify API
const fetchFromSpotify = async (endpoint, accessToken) => {
    const response = await fetch(`https://api.spotify.com/v1${endpoint}`, {
        method: 'GET',
        headers: {
            'Authorization': `Bearer ${accessToken}`
        }
    });
    return response.json();
};

const getSectionsAndPlaylists = async () => {
    const accessToken = await getAccessToken();
    const sections = {};

    try {
        const userPlaylists = await fetchFromSpotify('/me/playlists', accessToken);
        sections['Your Playlists'] = userPlaylists.items?.map(playlist => ({
            name: playlist.name,
            id: playlist.id,
            uri: playlist.uri
        })) || [];

        const featured = await fetchFromSpotify('/browse/featured-playlists', accessToken);
        sections['Featured Playlists'] = featured.playlists?.items?.map(playlist => ({
            name: playlist.name,
            id: playlist.id,
            uri: playlist.uri
        })) || [];

        const recentlyPlayed = await fetchFromSpotify('/me/player/recently-played', accessToken);
        sections['Recently Played'] = recentlyPlayed.items?.map(item => ({
            name: item.track.name,
            artist: item.track.artists.map(artist => artist.name).join(', '),
            uri: item.track.uri
        })) || [];

        const categories = await fetchFromSpotify('/browse/categories', accessToken);
        sections['Categories'] = categories.categories?.items?.map(category => ({
            name: category.name,
            id: category.id
        })) || [];

    } catch (error) {
        console.error('Error fetching section:', error);
    }

    return sections;
};


// Main function to get data and load it into your JS app
(async () => {
    try {
        const sections = await getSectionsAndPlaylists();
        console.log(sections);

        // You can now export this data to your app's state or a file
        // For example, save it as a global variable or send it to a file
    } catch (error) {
        console.error('Error fetching data from Spotify:', error);
    }
})();
